import{f as y,P as E,K as x,F as S}from"./index.86f64dd9.js";import{e as W,f as s,h as I,o as p,c as k,G as c,u as i,a as m,B as b,I as z,D as u,E as L,F as N}from"./entry.2cc51d32.js";const P=["href"],A=["src"],w=W({__name:"index_bk",setup(F){const d=function(e,t){e!=null&&e!=null&&(e.style.pointerEvents=t)};myWorker.addEventListener("message",e=>{console.log("Workerから受け取ったデータは: ",e.data)},!1),myWorker.postMessage("Hello, world"),console.log("Message posted to worker");const r=s(null),g=s({lat:0,lng:0}),f=s({position:g}),_=s([]);s("");const v=function(e){const t=e.getBounds(),o=t.getNorthEast(),a=t.getSouthWest(),l={latitude_gte:a.lat(),latitude_lt:o.lat(),longitude_gte:a.lng(),longitude_lt:o.lng()};d(document.getElementById("gmap"),"none"),fetch("https://d1x1ikt4r7hg2z.cloudfront.net/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(n=>n.json()).then(n=>{_.value=Array.from(n),d(document.getElementById("gmap"),"auto")}).catch(n=>{console.log(n),d(document.getElementById("gmap"),"auto")})},B=function(e,t,o){const a={url:"./images/man.png",scaledSize:new r.value.api.Size(30,30)};navigator.geolocation.getCurrentPosition(function(l){const n=l.coords.latitude,h=l.coords.longitude;e.panTo({lat:n,lng:h}),t.value={lat:n,lng:h},o.value={position:t,icon:a}},function(l){console.log(`Error getting location: ${l.message}`)})};return I(()=>{var e;return(e=r.value)==null?void 0:e.ready},e=>{if(!e)return;const t=r.value.map;B(t,g,f),t.addListener("idle",o=>{v(t)})}),(e,t)=>(p(),k(i(S),{id:"gmap",ref_key:"mapRef",ref:r,"api-key":"AIzaSyAYemHqW9xU48b7KhMXauA6P0fDFTWyly0",style:{width:"100%",height:"500px"},center:g.value,zoom:15},{default:c(()=>[m(i(y),{options:f.value},null,8,["options"]),m(i(x),null,{default:c(()=>[(p(!0),b(N,null,z(_.value,(o,a)=>(p(),k(i(y),{options:{position:{lat:o.location.latitude,lng:o.location.longitude}},key:a},{default:c(()=>[m(i(E),null,{default:c(()=>[u("div",null,[u("a",{href:o.player.day.link,target:"_blank"},L(o.title),9,P)]),u("div",null,[u("img",{src:o.image.current.thumbnail},null,8,A)])]),_:2},1024)]),_:2},1032,["options"]))),128))]),_:1})]),_:1},8,["center"]))}});export{w as default};
