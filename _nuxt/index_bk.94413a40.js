import{f as y,P as B,K as E,F as S}from"./index.a61189c5.js";import{a as W,r as s,w as b,o as p,c as k,i as c,u as i,h as m,f as z,k as I,j as u,t as L,F as N}from"./entry.eca323c9.js";const P=["href"],w=["src"],T=W({__name:"index_bk",setup(A){const d=function(t,e){t!=null&&t!=null&&(t.style.pointerEvents=e)};myWorker.addEventListener("message",t=>{console.log("Workerから受け取ったデータは: ",t.data)},!1),myWorker.postMessage("Hello, world"),console.log("Message posted to worker");const r=s(null),g=s({lat:0,lng:0}),f=s({position:g}),_=s([]);s("");const v=function(t){const e=t.getBounds(),o=e.getNorthEast(),a=e.getSouthWest(),l={latitude_gte:a.lat(),latitude_lt:o.lat(),longitude_gte:a.lng(),longitude_lt:o.lng()};d(document.getElementById("gmap"),"none"),fetch("https://d1x1ikt4r7hg2z.cloudfront.net/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(n=>n.json()).then(n=>{_.value=Array.from(n),d(document.getElementById("gmap"),"auto")}).catch(n=>{console.log(n),d(document.getElementById("gmap"),"auto")})},x=function(t,e,o){const a={url:"./images/man.png",scaledSize:new r.value.api.Size(30,30)};navigator.geolocation.getCurrentPosition(function(l){const n=l.coords.latitude,h=l.coords.longitude;t.panTo({lat:n,lng:h}),e.value={lat:n,lng:h},o.value={position:e,icon:a}},function(l){console.log(`Error getting location: ${l.message}`)})};return b(()=>{var t;return(t=r.value)==null?void 0:t.ready},t=>{if(!t)return;const e=r.value.map;x(e,g,f),e.addListener("idle",o=>{v(e)})}),(t,e)=>(p(),k(i(S),{id:"gmap",ref_key:"mapRef",ref:r,"api-key":"AIzaSyAYemHqW9xU48b7KhMXauA6P0fDFTWyly0",style:{width:"100%",height:"500px"},center:g.value,zoom:15},{default:c(()=>[m(i(y),{options:f.value},null,8,["options"]),m(i(E),null,{default:c(()=>[(p(!0),z(N,null,I(_.value,(o,a)=>(p(),k(i(y),{options:{position:{lat:o.location.latitude,lng:o.location.longitude}},key:a},{default:c(()=>[m(i(B),null,{default:c(()=>[u("div",null,[u("a",{href:o.player.day.link,target:"_blank"},L(o.title),9,P)]),u("div",null,[u("img",{src:o.image.current.thumbnail},null,8,w)])]),_:2},1024)]),_:2},1032,["options"]))),128))]),_:1})]),_:1},8,["center"]))}});export{T as default};
