import{f as y,K as B,F as E,P as S}from"./index.96c26e32.js";import{e as z,f as i,h as N,o as m,c as v,G as u,u as r,a as f,B as W,H as b,F as A,D as d,E as F}from"./entry.e202ceed.js";const I=["href"],L=["src"],K=z({__name:"index",setup(P){const c=i(null),g=i({lat:0,lng:0}),_=i({position:g}),h=i([]);i("");const k=function(n){const e=n.getBounds(),t=e.getNorthEast(),a=e.getSouthWest(),l={latitude_gte:a.lat(),latitude_lt:t.lat(),longitude_gte:a.lng(),longitude_lt:t.lng()},s=document.getElementById("gmap");s!=null&&s!=null&&(s.style.pointerEvents="none"),fetch("https://d1x1ikt4r7hg2z.cloudfront.net/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(o=>o.json()).then(o=>{h.value=Array.from(o.data.webcams);const p=document.getElementById("gmap");p!=null&&p!=null&&(p.style.pointerEvents="auto")}).catch(o=>console.error(o))},x=function(n,e,t){const a={url:"./images/man.png",scaledSize:new c.value.api.Size(30,30)};navigator.geolocation.getCurrentPosition(function(l){const s=l.coords.latitude,o=l.coords.longitude;n.panTo({lat:s,lng:o}),e.value={lat:s,lng:o},t.value={position:e,icon:a}},function(l){console.error(`Error getting location: ${l.message}`)})};return N(()=>{var n;return(n=c.value)==null?void 0:n.ready},n=>{if(!n)return;const e=c.value.map;x(e,g,_),e.addListener("idle",t=>{k(e)})}),(n,e)=>(m(),v(r(E),{id:"gmap",ref_key:"mapRef",ref:c,"api-key":"AIzaSyAYemHqW9xU48b7KhMXauA6P0fDFTWyly0",style:{width:"100%",height:"500px"},center:g.value,zoom:15},{default:u(()=>[f(r(y),{options:_.value},null,8,["options"]),f(r(B),null,{default:u(()=>[(m(!0),W(A,null,b(h.value,(t,a)=>(m(),v(r(y),{options:{position:{lat:t.location.latitude,lng:t.location.longitude}},key:a},{default:u(()=>[f(r(S),null,{default:u(()=>[d("div",null,[d("a",{href:t.player.day.link,target:"_blank"},F(t.title),9,I)]),d("div",null,[d("img",{src:t.image.current.thumbnail},null,8,L)])]),_:2},1024)]),_:2},1032,["options"]))),128))]),_:1})]),_:1},8,["center"]))}});export{K as default};
